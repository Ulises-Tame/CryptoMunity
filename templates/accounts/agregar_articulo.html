{% extends "layouts/base_invest.html" %}

{% block title %}{% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<link rel="stylesheet" href="/static/assets/css/thumbnail.css">
    <div class="perfil">
        <div class="col-12 col-xl-4-profile">
            <div class="perfil">
                <form method="POST" action="" id="form" class="mt-4">
                    <!--div class="form-group mb-4"-->
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div>
                                <label for="textarea">Publicar Artículo</label>
                                <input type="text" class="form-control" id="titulo" placeholder="Título" name="titulo" required> 
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div>
                                <label for="last_name">Cryptomoneda Relacionada</label>
                                <select class="form-select mb-0" name="crypto" id="crypto" aria-label="Cryptomoneda">
                                    <option value="BTC">BTC</option>
                                    <option value="ETH">ETH</option>
                                    <option value="SOL">SOL</option>
                                    <option value="DOGE">DOGE</option>
                                    <option value="ADA">ADA</option>
                                    <option value="CAKE">CAKE</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div>

                            <!-- Modal Content -->
                            <div class="modal fade" id="modal-default" tabindex="-1" role="dialog" aria-labelledby="modal-default" aria-hidden="true">
                                <div class="modal-xl modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <h4 class="modal-title mx-auto">Selecciona una imagen</h4>
                                            <div class="modal-body pt-0">
                                                <div class="row">
                                                    <div class="col-12 col-sm-6 col-xl-12 mb-4">
                                                        <div class="card-body border-0 mb-4 mb-xl-0" id="thumbs">
                                                            <div class="row">
                                                               
                                                                    <input type="hidden" name="img" required>
                                                                    {% for foto in fotos %}
                                                                    <div class="card thumbnail border-0 shadow p-4 col-12 col-sm-6 col-xl-4 mb-4">
                                                                            <div class="card-body p-0">
                                                                                <img src="{{foto.fotoArticulos}}" alt="themesberg marketplace" id="{{foto.fotoArticulos}}">
                                                                                <div class="row">
                                                                                    <div class="col avatar-group">
                                                                                        <a href="" class="avatar" data-bs-toggle="tooltip" data-original-title="Ryan Tompson" data-bs-original-title="Ryan Tompson" title="">
                                                                                            <img class="rounded d-none" alt="Image placeholder" src="">
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                    </div>
                                                                    {% endfor %}
                                                                </div>
                                                                
                                                            </div>
                                                        </div>                
                                                    </div>
                                                </div>
                                            </div>




                                    </div>
                                </div>
                            </div>
                            <!-- End of Modal Content -->
                            </div>

                        </div>


                    </div>
                        <div class="input-group">
                            <textarea class="form-control" placeholder="Ingresa algo para publicar..." name="publicación" id="txtvoz" rows="4" required></textarea>                      
                        </div>
                        <!--div class="col-md-6 mb-3">
                            <select aria-placeholder="Selecciona la cryptomoneda relacionada" class="form-select mb-0" id="gender" aria-label="Gender select example">
                                <option selected>Gender</option>
                                <option value="1">Female</option>
                                <option value="2">Male</option>
                            </select>
                        </div-->
                        <div>
                            <li role="separator" class="dropdown-divider mt-4 mb-3 "></li>
                        </div>
                    <div>
                        <button class="btn btn-sm btn-gray-800 d-inline-flex align-items-center me-2" id="guardar_articulo" type="submit">
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="floppy-disk"  class="icon icon-xs me-1" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433.1 129.1l-83.9-83.9C342.3 38.32 327.1 32 316.1 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V163.9C448 152.9 441.7 137.7 433.1 129.1zM224 416c-35.34 0-64-28.66-64-64s28.66-64 64-64s64 28.66 64 64S259.3 416 224 416zM320 208C320 216.8 312.8 224 304 224h-224C71.16 224 64 216.8 64 208v-96C64 103.2 71.16 96 80 96h224C312.8 96 320 103.2 320 112V208z"></path></svg>
                            Publicar
                        </button>

                        <!-- Button Modal -->
                        <button type="button" class="btn btn-sm btn-gray-800 d-inline-flex align-items-center me-2" data-bs-toggle="modal" data-bs-target="#modal-default">
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="icon icon-xs me-1" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"></path></svg>
                            Selecciona imagen
                        </button>

                        <button class="btn btn-sm btn-gray-800 d-inline-flex align-items-center me-2" id="hablar" type="button" >
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="microphone" class="icon icon-xs me-1" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M192 352c53.03 0 96-42.97 96-96v-160c0-53.03-42.97-96-96-96s-96 42.97-96 96v160C96 309 138.1 352 192 352zM344 192C330.7 192 320 202.7 320 215.1V256c0 73.33-61.97 132.4-136.3 127.7c-66.08-4.169-119.7-66.59-119.7-132.8L64 215.1C64 202.7 53.25 192 40 192S16 202.7 16 215.1v32.15c0 89.66 63.97 169.6 152 181.7V464H128c-18.19 0-32.84 15.18-31.96 33.57C96.43 505.8 103.8 512 112 512h160c8.222 0 15.57-6.216 15.96-14.43C288.8 479.2 274.2 464 256 464h-40v-33.77C301.7 418.5 368 344.9 368 256V215.1C368 202.7 357.3 192 344 192z"></path></svg>
                            Hablar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
   
{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script >
    const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-primary',
                cancelButton: 'btn btn-gray'
            },
            buttonsStyling: false
        });
        const form = document.getElementById('form');
    form.addEventListener('submit', function () {
            swalWithBootstrapButtons.fire({
                icon: 'success',
                title: 'Success alert',
                text: 'Artículo Guardado exitosamente !',
                showConfirmButton: true,
                timer: 1500
            })
        });

        document.getElementById('hablar').addEventListener('click', function () {
            const notyf = new Notyf({
                position: {
                    x: 'right',
                    y: 'bottom',
                },
                types: [
                    {
                        type: 'success',
                        background: '#0948B3',
                        icon: {
                            className: 'fas fa-times',
                            tagName: 'span',
                            color: '#fff'
                        },
                        dismissible: false
                    }
                ]
            });
            notyf.open({
                type: 'success',
                message:'Habla !'
            });
        });
</script>
<!--script src="static/assets/js/voz.js"></script-->
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="static/assets/js/img.js"></script> 
<script src="https://aka.ms/csspeech/jsbrowserpackageraw"></script>
  <!-- </speechsdkref> -->

  <!-- <quickstartcode> -->
  <!-- Speech SDK USAGE -->
  <script>
    // status fields and start button in UI
    var phraseDiv;
    var startRecognizeOnceAsyncButton;

    // subscription key and region for speech services.
    var subscriptionKey, serviceRegion;
    var SpeechSDK;
    var recognizer;

    document.addEventListener("DOMContentLoaded", function () {
      startRecognizeOnceAsyncButton = document.getElementById("hablar");
      phraseDiv = document.getElementById("txtvoz");

      startRecognizeOnceAsyncButton.addEventListener("click", function () {
        startRecognizeOnceAsyncButton.disabled = true;
        phraseDiv.innerHTML = "";

        var speechConfig = SpeechSDK.SpeechConfig.fromSubscription("be4302873f0e45fe9a1e2de23b29b3b2", "southcentralus");

        speechConfig.speechRecognitionLanguage = "es-MX";
        var audioConfig  = SpeechSDK.AudioConfig.fromDefaultMicrophoneInput();
        recognizer = new SpeechSDK.SpeechRecognizer(speechConfig, audioConfig);

        recognizer.recognizeOnceAsync(
          function (result) {
            startRecognizeOnceAsyncButton.disabled = false;
            phraseDiv.innerHTML += result.text;
            window.console.log(result);

            recognizer.close();
            recognizer = undefined;
          },
          function (err) {
            startRecognizeOnceAsyncButton.disabled = false;
            phraseDiv.innerHTML += err;
            window.console.log(err);

            recognizer.close();
            recognizer = undefined;
          });
      });

      if (!!window.SpeechSDK) {
        SpeechSDK = window.SpeechSDK;
        startRecognizeOnceAsyncButton.disabled = false;

        document.getElementById('content').style.display = 'block';
        document.getElementById('warning').style.display = 'none';
      }
    });
  </script>
{% endblock javascripts %}

